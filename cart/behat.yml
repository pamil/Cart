default:
    extensions:
        FriendsOfBehat\CrossContainerExtension: ~

        FriendsOfBehat\SymfonyExtension:
            kernel:
                class: Pamil\Cart\Common\Infrastructure\PamilCartKernel

        FriendsOfBehat\ContextServiceExtension:
            imports:
                - "tests/Behat/Resources/config/container.xml"

    suites:
        write_domain:
            contexts_services:
                - pamil.context.common.cart
                - pamil.context.domain.cart
                - pamil.context.transform.number

            filters:
                tags: "@write && @domain"

        write_application:
            contexts_services:
                - pamil.context.application.cart
                - pamil.context.common.cart
                - pamil.context.transform.number

            filters:
                tags: "@write && @application"

        write_api:
            contexts_services:
                - pamil.context.api.cart
                - pamil.context.common.cart
                - pamil.context.hook.event_store
                - pamil.context.transform.number

            filters:
                tags: "@write && @api"

        read_application:
            contexts_services:
                - pamil.context.query.cart
                - pamil.context.transform.number

            filters:
                tags: "@read && @application"
