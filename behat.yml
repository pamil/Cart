default:
    extensions:
        FriendsOfBehat\CrossContainerExtension: ~

        FriendsOfBehat\SymfonyExtension:
            kernel:
                class: Pamil\Kernel
                bootstrap: vendor/autoload.php

        FriendsOfBehat\ContextServiceExtension:
            imports:
                - "tests/Cart/Behat/Resources/config/container.xml"

    suites:
        write_domain:
            contexts_services:
                - pamil_cart.context.common.cart
                - pamil_cart.context.transform.number
                - pamil_cart.context.write.common.cart
                - pamil_cart.context.write.domain.cart

            filters:
                tags: "@write && @domain"

        write_application:
            contexts_services:
                - pamil_cart.context.common.cart
                - pamil_cart.context.transform.number
                - pamil_cart.context.write.application.cart
                - pamil_cart.context.write.common.cart

            filters:
                tags: "@write && @application"

        write_api:
            contexts_services:
                - pamil_cart.context.common.cart
                - pamil_cart.context.hook.event_store
                - pamil_cart.context.hook.redis
                - pamil_cart.context.transform.number
                - pamil_cart.context.write.api.cart
                - pamil_cart.context.write.common.cart

            filters:
                tags: "@write && @api"

        read_application:
            contexts_services:
                - pamil_cart.context.common.cart
                - pamil_cart.context.read.application.cart
                - pamil_cart.context.transform.number

            filters:
                tags: "@read && @application"

        read_api:
            contexts_services:
                - pamil_cart.context.common.cart
                - pamil_cart.context.hook.redis
                - pamil_cart.context.read.api.cart
                - pamil_cart.context.transform.number

            filters:
                tags: "@read && @api"
